<div class="row">
  <h4 class="text-center bg-light mt-2 ml-2 mb-2 py-2 px-2 shadow rounded">New Media Page</h4>

  <div class="col-md-7 shadow-lg bg-light">
    <div class="container  pt-2 mt-2">
      <form (ngSubmit)="onDataSubmit()" [formGroup]="mediaForm">
        <div class="form-group d-flex justify-content-around mr-2">
          <label for="text">Browse:</label>
          <div class="p-1"><input type="file" class="form-control" (change)="onChange($event)" [disabled]="fileAdded" /></div>
          <div class="p-1"><button type="button" class="btn btn-primary" (click)="onUpload()" [disabled]="fileAdded">Upload</button></div>
        </div>
        <div class="form-group">
          <label for="text">Title:</label>
          <input type="text" class="form-control" placeholder="Enter Title" formControlName="title">
        </div>
        <div class="form-group">
          <label for="text">Description:</label>
          <textarea id="description" placeholder="Enter Description" name="description" rows="4" cols="50" class="form-control" formControlName="description"></textarea>
        </div>
        <div class="form-group">
          <label for="text">Tags:</label>
          <tag-input id="tags"
                     formControlName="tags"
                     [editable]="true"
                     placeholder="Enter Tags"
                     secondaryPlaceholder="Enter Tags"
                     [blinkIfDupe]="true" [modelAsStrings]="true">
          </tag-input>
          <div [hidden]="mediaForm.get('tags')?.valid && mediaForm.get('tags')?.touched">
            Please insert at least a tag
          </div>
        </div>
        <div class="form-group">
          <label for="text">Effects:</label>
          <tag-input id="effects"
                     formControlName="effects"
                     [editable]="true"
                     placeholder="Enter Effects"
                     secondaryPlaceholder="Enter Effects"
                     [blinkIfDupe]="true" [modelAsStrings]="true">
          </tag-input>
        </div>
        <button type="submit" class="btn btn-primary my-2" [disabled]="!fileAdded && !mediaForm.valid">Submit</button>
      </form>
    </div>
  </div>
  <div class="col-md-4 shadow-lg bg-light mx-2">
    <div class="container-fluid py-2 px-2">
      <div class="text-center" style="height: 200px;"
           appImageDragDirective
           (files)="filesDropped($event)">
        <p class="h5">Drop your file here</p> 
      </div>
      <div >
        <div *ngFor="let file of uploadedFiles" class="border border-0 text-center h-100 w-100">
          <img [src]="file.url" style="width: 100px; height: 100px;" />
        </div>
      </div>
    </div>
  </div>

</div>
